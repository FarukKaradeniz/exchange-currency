(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},105:function(e,t,n){},107:function(e,t,n){},248:function(e,t,n){},250:function(e,t,n){},252:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(74),s=n.n(c),u=(n(82),n(13)),i=n(6),l=n(7),o=n(9),h=n(8),d=n(10),p=n(44),m=n.n(p),y=n(34),f=n.n(y),C=(n(103),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"currency-input-text-wrapper"},r.a.createElement("input",{type:"number",name:this.props.name,value:this.props.value,onChange:this.props.handleChange,className:"currency-input-text",placeholder:"Enter a currency value",step:"0.01"}))}}]),t}(r.a.Component)),v=(n(105),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(h.a)(t).call(this,e))).onListItemClick=function(e){n.toggleList(),n.props.currencySelectEvent(e,n.props.listName)},n.currencyList=function(){var e=n.props.currencies.map(function(e,t){return r.a.createElement("li",{className:"currency-item",onClick:function(){return n.onListItemClick(t)},key:t},e.name)});return r.a.createElement("ul",{className:"currency-select-list ".concat(n.state.listOpen?"":" hidden")},e)},n.state={listOpen:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleList",value:function(){this.setState(function(e){return{listOpen:!e.listOpen}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"currency-select-list-wrapper"},r.a.createElement("div",{onClick:function(){return e.toggleList()},className:"currency-list-header"},this.props.currencies[this.props.selectedCurrency].name),this.currencyList())}}]),t}(r.a.Component)),b=(n(107),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"currency-container"},r.a.createElement(C,{name:this.props.name,value:this.props.value,handleChange:this.props.handleChange}),r.a.createElement(v,{listName:this.props.listName,currencies:this.props.currencies,selectedCurrency:this.props.selectedCurrency,currencySelectEvent:this.props.currencySelectEvent}))}}]),t}(r.a.Component)),g=n(75),O=(n(248),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chart-container"},r.a.createElement(g.a,{maxWidth:360,maxHeight:180,data:this.props.data}))}}]),t}(r.a.Component)),j=(n(250),function(e){return r.a.createElement("header",null,r.a.createElement("h1",{className:"header-text"},"Exchange Currency"))}),E=(n(252),[{value:1,name:"EUR"}]),x={},k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(h.a)(t).call(this,e))).getDataForDate=function(e){var t=n.state.firstCurrencyIndex,a=n.state.secondCurrencyIndex,r=x[e];return 0===t&&0===a?1:0===t&&0!==a?r[n.state.currencies[a].name]:0!==t&&0===a?1/r[n.state.currencies[t].name]:r[n.state.currencies[a].name]/r[n.state.currencies[t].name]},n.updateChart=function(){var e=n.state.labels,t=[];e.forEach(function(e){var a=n.getDataForDate(e);t.push(a)}),n.setState({weekData:t})},n.getWeekCurrencyData=function(){var e=f()().subtract(6,"days").format("YYYY-MM-DD"),t=f()().format("YYYY-MM-DD");m()({method:"get",url:"https://api.exchangeratesapi.io/history",params:{start_at:e,end_at:t}}).then(function(e){x=e.data.rates;var t=[],a=[];Object.keys(x).sort().forEach(function(e){t.push(e);var r=n.getDataForDate(e);a.push(r)}),n.setState({weekDataExist:!0,labels:t.sort(),weekData:a})}).catch(function(e){return console.log(e)})},n.onCurrencyValueChanged=function(e){if("firstCurrencyValue"===e.target.name){var t,a=e.target.value,r=n.state.secondCurrencyIndex;n.setState((t={},Object(u.a)(t,e.target.name,e.target.value),Object(u.a)(t,"secondCurrencyValue",(a*(E[r].value/E[n.state.firstCurrencyIndex].value)).toFixed(4)),t))}else{var c,s=e.target.value,i=n.state.firstCurrencyIndex;n.setState((c={},Object(u.a)(c,e.target.name,e.target.value),Object(u.a)(c,"firstCurrencyValue",(s*(E[i].value/E[n.state.secondCurrencyIndex].value)).toFixed(4)),c))}},n.onCurrencySelected=function(e,t){if(n.state[t]!==e)if("firstCurrencyIndex"===t){var a,r=n.state.firstCurrencyValue*(E[n.state.secondCurrencyIndex].value/E[e].value);n.setState((a={},Object(u.a)(a,t,e),Object(u.a)(a,"secondCurrencyValue",r),a),function(){return n.updateChart()})}else{var c,s=n.state.firstCurrencyValue*(E[e].value/E[n.state.firstCurrencyIndex].value);n.setState((c={},Object(u.a)(c,t,e),Object(u.a)(c,"secondCurrencyValue",s),c),function(){return n.updateChart()})}},n.componentWillMount=function(){m()({method:"get",url:"https://api.exchangeratesapi.io/latest"}).then(function(e){var t=e.data.rates;Object.keys(e.data.rates).map(function(e){return{name:e,value:t[e]}}).forEach(function(e){return E.push(e)}),n.setState({currencies:E},function(){n.getWeekCurrencyData()})}).catch(function(e){return console.log(e)})},n.state={currencies:E,firstCurrencyIndex:0,secondCurrencyIndex:0,firstCurrencyValue:1,secondCurrencyValue:1,weekDataExist:!1,weekData:[],labels:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"container"},r.a.createElement(j,null),r.a.createElement("div",{className:"currencyview-wrapper"},r.a.createElement(b,{name:"firstCurrencyValue",value:this.state.firstCurrencyValue,handleChange:this.onCurrencyValueChanged,listName:"firstCurrencyIndex",currencies:this.state.currencies,selectedCurrency:this.state.firstCurrencyIndex,currencySelectEvent:this.onCurrencySelected}),r.a.createElement(b,{name:"secondCurrencyValue",value:this.state.secondCurrencyValue,handleChange:this.onCurrencyValueChanged,listName:"secondCurrencyIndex",currencies:this.state.currencies,selectedCurrency:this.state.secondCurrencyIndex,currencySelectEvent:this.onCurrencySelected}),r.a.createElement("div",{className:"chartview-wrapper"},r.a.createElement(O,{data:{labels:this.state.labels,datasets:[{backgroundColor:"rgba(157, 227, 255, 0.4)",borderColor:"rgba(157, 227, 255, 1)",pointBackgroundColor:"rgba(107, 127, 255, 1)",fill:!1,lineTension:.1,data:this.state.weekData,label:"".concat(this.state.currencies[this.state.firstCurrencyIndex].name,"/").concat(this.state.currencies[this.state.secondCurrencyIndex].name)}]}}))))}}]),t}(a.Component);s.a.render(r.a.createElement(k,null),document.getElementById("root"))},77:function(e,t,n){e.exports=n(254)},82:function(e,t,n){}},[[77,2,1]]]);
//# sourceMappingURL=main.c870961d.chunk.js.map